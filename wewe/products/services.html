<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finishing Services - City Hardware</title>
    <link rel="stylesheet" href="../css/style.css"> 
</head>
<body>

    <header>
        <nav class="navbar">
            <a href="../index.html" class="logo">City Hardware</a>
            <ul class="nav-links">
                <li><a href="../index.html">Home</a></li>
                <li><a href="../index.html#products">Products</a></li>
                <li><a href="../index.html#about">About Us</a></li>
                <li><a href="../index.html#contact">Contact</a></li>
            </ul>
        </nav>
    </header>

    <main class="product-detail-page">
        <h1>Finishing Services</h1>
        <div class="product-container">
            <div class="slider-container">
                <div class="slider-images">
                    <img src="../images/finishing-service.jpg" class="slider-image active" data-caption="Professional Countertop Finishing">
                    <img src="../images/service-bull-nossing.jpg" class="slider-image" data-caption="Bull Nossing Edge Profile">
                    <img src="../images/service-engraving.jpg" class="slider-image" data-caption="Precision Engraving for Sinks">
                    <!-- Add more images here -->
                </div>
                <div class="slider-controls">
                    <button class="slider-control-btn prev-btn">&lt;</button>
                    <button class="slider-control-btn next-btn">&gt;</button>
                </div>
                <div class="slider-caption">
                    Professional Countertop Finishing
                </div>
            </div>
            <div class="product-info">
                <h3>Perfecting Every Detail</h3>
                <p>Our professional finishing services ensure your countertops are installed with precision and a flawless finish. From custom edge profiles to sink cutouts, we handle it all.</p>

                <!-- Service 1 -->
                <div class="product-variant">
                    <h4>Service: Bull Nossing</h4>
                    <ul>
                        <li><strong>Description:</strong> For fitting and finishing edges with a smooth, rounded profile.</li>
                    </ul>
                    <p class="price">Price: <strong>Ksh. 1,500</strong> per Meter</p>
                    <button class="btn add-to-cart">Add to Cart</button>
                </div>
                
                <!-- Service 2 -->
                <div class="product-variant">
                    <h4>Service: Engraving</h4>
                     <ul>
                        <li><strong>Description:</strong> For precision cutting and fitting of sinks and cooktops.</li>
                    </ul>
                    <p class="price">Price: <strong>Ksh. 2,000</strong> per Meter</p>
                    <button class="btn add-to-cart">Add to Cart</button>
                </div>

            </div>
        </div>
    </main>

    <!-- Floating Cart Button -->
    <div id="floatingCartButton">
        View Quote Request (<span id="cartCount">0</span>)
    </div>

    <!-- Cart Modal -->
    <div id="cartModal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>Your Quote Request</h2>
            <div id="cartItems">
                <p>No items in your quote request yet.</p>
            </div>
            <button id="requestQuoteWhatsapp" class="btn">Request Quote via WhatsApp</button>
            <a href="../cart.html" class="btn" style="margin-left: 10px; background-color: #007bff;">View Full Quote Page</a>
            <button id="clearCart" class="btn">Clear Cart</button>
        </div>
    </div>

    <footer>
        <p>Contact Us: (123) 456-7890 | email@yourhardware.com</p>
        <p>Â© 2023 City Hardware. All Rights Reserved.</p>
    </footer>

    <script>
        // Import the common cart functionality
        // The addToCart function is defined in cart.js
        // The product object construction remains here as it's specific to this page's structure
        // The renderCart, saveCart, updateCartCount, and modal/floating button listeners are in cart.js
        
        // Ensure addToCart is available globally from cart.js
        // If cart.js is loaded after this script, you might need to defer this or use DOMContentLoaded
        // For simplicity, assuming cart.js is loaded before this script executes fully.
        
        document.querySelectorAll('.add-to-cart').forEach(button => {
            button.addEventListener('click', () => {
                const productVariantDiv = button.closest('.product-variant');
                const productName = productVariantDiv.querySelector('h4').textContent.trim();
                const price = productVariantDiv.querySelector('.price').innerText;
                const description = productVariantDiv.querySelector('ul li').innerText;

                const product = {
                    name: productName,
                    details: [description, price]
                };
                if (typeof addToCart === 'function') { // Check if addToCart is loaded
                    addToCart(product);
                }
            });
        });

        // --- Image Slider Logic ---
        const sliderContainer = document.querySelector('.slider-container');
        const sliderImages = sliderContainer.querySelectorAll('.slider-image');
        const prevBtn = sliderContainer.querySelector('.prev-btn');
        const nextBtn = sliderContainer.querySelector('.next-btn');
        const sliderCaption = sliderContainer.querySelector('.slider-caption');
        let currentImageIndex = 0;

        function showImage(index) {
            sliderImages.forEach(img => {
                img.classList.remove('active');
            });
            sliderImages[index].classList.add('active');
            sliderCaption.textContent = sliderImages[index].dataset.caption;
        }

        function nextImage() {
            currentImageIndex = (currentImageIndex + 1) % sliderImages.length;
            showImage(currentImageIndex);
        }

        function prevImage() {
            currentImageIndex = (currentImageIndex - 1 + sliderImages.length) % sliderImages.length;
            showImage(currentImageIndex);
        }

        prevBtn.addEventListener('click', prevImage);
        nextBtn.addEventListener('click', nextImage);

        showImage(currentImageIndex); // Show the first image on load
    </script>
    <script src="../js/cart.js"></script>

</body>
</html>